<!DOCTYPE html>
<html>

<%- include('partials/head') %>
<body style="background-color: <%= locals.userData && userData.color%> " data-bs-theme="dark">
  <%- include('partials/header', {title: 'Registro'}) %>
  <div class="container mt-5">
    <div class="row">
      <div class="col-12 col-md-10 col-lg-8 mx-auto">
        <div class="card-shadow">
          <div class="card-body">
            <% if (locals.userData){ %>
              <h4>Hola <%= userData.name.toUpperCase() %>,elegiste el color: <span><%= userData.color %></span>, tu email es : <b><%= userData.email %></b> y tu edad es : <%= userData.edad %> años</h4>
              <div class="mt-3 text-center">
                <a href="/users/about" class="btn btn-dark">Continuar</a>
              </div>
            <% } else{ %>
              <form method="POST" class="row">
                <div class="col-12 col-md-6 mt-3 " > 
                  <label for="name" class="form-label">Nombre</label>
                  <input 
                    type="text" 
                    class="form-control <%= locals.errors && (errors.name && 'is-invalid') %>" 
                    id="name"
                    name="name"  
                    value="<%= locals.old && (old.name && old.name) %>"
                  />
                  <small class="ms-2 text-danger"><%= locals.errors && (errors.name && errors.name.msg) %></small>
                </div>
                <div class="col-12 col-md-6 mt-3">
                  <label for="email" class="form-label">Email</label>
                  <input 
                    type="email" 
                    class="form-control <%= locals.errors && (errors.email && 'is-invalid') %>" 
                    id="email" 
                    name="email" 
                    value="<%= locals.old && (old.email && old.email) %>"  
                  />
                  <small class="ms-2 text-danger"><%= locals.errors && (errors.email && errors.email.msg) %></small>
                </div>

                <div class="col-12 col-md-6 mt-3">
                  <label for="color" class="form-label">Colores</label>
                <select 
                  class="form-select <%= locals.errors && (errors.color && 'is-invalid') %>" aria-label="Default select example"
                  name="color" 
                  value="<%= locals.old && (old.color && old.color) %>">
                  <option selected>Seleccione...</option>
                  <option value="red">Rojo</option>
                  <option value="white">Blanco</option>
                  <option value="blue">Azul</option>
                  <option value="pink">Rosa</option>
                </select>
                <small class="ms-2 text-danger"><%= locals.errors && (errors.name && errors.name.msg) %></small>
                </div>
                <div class="col-12 col-md-6 mt-3">
                  <label for="edad" class="form-label">Ingrese su edad</label>
                  <input 
                    type="number"
                    class="form-control <%= locals.errors && (errors.edad && 'is-invalid') %>"
                    id="edad"
                    name="edad" 
                    value="<%= locals.old && (old.edad && old.edad) %>"
                  />
                  <small class="ms-2 text-danger"><%= locals.errors && (errors.edad && errors.edad.msg) %></small>
                </div>
                <!-- Check color -->
                <div class="col-12">
                  <div class="form-check">
                    <input class="form-check-input" 
                      type="checkbox"
                      value=""
                      id="remember"
                      name="remember">
                    <label class="form-check-label" for="remember">
                      Recordar Color
                    </label>
                  </div>
                </div>
                
                <div class="col-12 col-md-6 mt-4">
                  <label for="password" class="form-label">Contraseña</label>
                  <input 
                    type="password"
                    class="form-control <%= locals.errors && (errors.password && 'is-invalid') %>" id="password" 
                    name="password"  
                  />
                  <small class="ms-2 text-danger"><%= locals.errors && (errors.password && errors.password.msg) %></small>
                </div>
                <div class="col-12 col-md-6 mt-4">
                  <label for="password2" class="form-label">Confirmar contraseña</label>
                  <input 
                    type="password" 
                    class="form-control <%= locals.errors && (errors.password2 && 'is-invalid') %>" id="password2" 
                    name="password2" 
                  >
                  <small class="ms-2 text-danger"><%= locals.errors && (errors.password2 && errors.password2.msg) %></small>
                </div>
                <div class="d-flex justify-content-end">
                  <button type="submit" class="btn btn-primary">Enviar</button>
                </div>
              </form>
            <% } %>
          </div>

        </div>
      </div>
    </div>
    
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"></script>
</body>

</html>